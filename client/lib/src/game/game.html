Share this link with other people: <a [href]="gameHomeUrl">{{gameHomeUrl}}</a>

<!-- Wait for people -->
<div *ngIf="phase == Phase.lobby">
  <div class="host">Host: {{host}}</div>
  Currently there are {{players.length}} players.
  <ul>
    <li *ngFor="let player of players">
      {{player}}
    </li>
  </ul>

  <div>Only the host can start the game</div>
  <material-button [disabled]="!isHost" (trigger)="startRound">Start game</material-button>
</div>

<!-- Play game, insert answers -->
<div *ngIf="phase == Phase.inRound">
  <div class="title">Round {{round}}</div>
  <div class="description">The letter is {{letter}}</div>
  <div *ngFor="let category of categories">
    <span class="category">{{category}}</span>
    <material-input [(ngModel)]="categoryToAnswer[category]"></material-input>
  </div>
  <!-- TODO: Add a timer that triggers submitAnswers -->
  <material-button (trigger)="submitAnswers" [disabled]="submittedAnswers">Submit</material-button>
</div>

<!-- View everyone's answers and argue -->
<div *ngIf="phase == Phase.validation">
  <div class="title">Round {{round}}</div>
  <div class="description">The letter is {{letter}}</div>
  <div class="description">
    Share your answers and discuss which ones should not count. Only the host can mark answers as invalid.
  </div>

  <div *ngFor="let category of categories">
    <span class="category">Category: {{category}}</span>
    <ul class="answers">
      <ng-container *ngFor="let player of players">
        <li>
          Player {{player}} wrote: {{playerToCategoryToAnswers[player][category]}}
          <material-checkbox
            [(ngModel)]="playerToCategoryToValid[player][category]"
            [disabled]="!isHost">
          </material-checkbox>
        </li>
      </ng-container>
    </ul>
  </div>
  <material-button (trigger)="submitValidation"
                   [disabled]="!isHost">
    Submit
  </material-button>
</div>

<!-- Validation results are revealed, current scoreboard, option to start next
  round -->
<div *ngIf="phase == Phase.postRound">
  <div class="title">Round {{round}}</div>
  <div class="description">The letter was {{letter}}</div>
  <div class="description">
    The results are in!
  </div>

  <div class="player-score">
    <div class="player">Your score for the round</div>
    <ul class="answers">
      <ng-container *ngFor="let category of categories">
        <li>
          {{category}}: {{playerToCategoryToGradedAnswers[player][category].text}}
          <material-checkbox
            [checked]="playerToCategoryToGradedAnswers[player][category].valid"
            disabled>
          </material-checkbox>
        </li>
      </ng-container>
    </ul>
  </div>

  <div class="scoreboard">
    <ol>
      <li *ngFor="let entry of playerToScore.entries; let i = index"
        [class.final-score]="!nextRound"
        [class.leader]="i == 0">
        {{entry.value}} points - {{entry.key}}
      </li>
    </ol>
  </div>
  <material-button *ngIf="nextRound" [disabled]="!isHost" (trigger)="startRound">Next round</material-button>
  <material-button *ngIf="!nextRound" (trigger)="newGame">Finish</material-button>
</div>

<div class="error">{{error}}</div>
